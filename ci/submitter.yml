.deploy-dev-submitter:
  dependencies:
    - build-test
  script: gradle deploySubmitter -Penv=dev -PdeployPath=/nfs/biostudies/.adm/apps/submitter/dev

.deploy-beta-submitter:
  dependencies:
    - build-test
  script: gradle deploySubmitter -Penv=beta -PdeployPath=/nfs/biostudies/.adm/apps/submitter/beta -PjvmParams=-Xmx12g

.deploy-prod-submitter:
  dependencies:
    - build-test
  script: gradle deploySubmitter -Penv=prod -PdeployPath=/nfs/biostudies/.adm/apps/submitter/prod -PjvmParams=-Xmx16g

.deploy-ae-submitter:
  dependencies:
    - build-test
  script: gradle deploySubmitter -Penv=ae -PdeployPath=/nfs/biostudies/.adm/apps/submitter/ae -PjvmParams=-Xmx16g

auto-deploy-dev-submitter:
  extends: .deploy-dev-submitter
  stage: auto-deploy-dev-submitter
  only:
    refs:
      - master

auto-deploy-beta-submitter:
  extends: .deploy-beta-submitter
  stage: auto-deploy-beta-submitter
  only:
    refs:
      - beta

auto-deploy-prod-submitter:
  extends: .deploy-prod-submitter
  stage: auto-deploy-prod-submitter
  only:
    refs:
      - prod

auto-deploy-ae-submitter:
  extends: .deploy-ae-submitter
  stage: auto-deploy-ae-submitter
  only:
    refs:
      - prod

deploy-dev-submitter:
  extends: .deploy-dev-submitter
  stage: deploy-dev-submitter
  when: manual

deploy-beta-submitter:
  extends: .deploy-beta-submitter
  stage: deploy-beta-submitter
  when: manual

deploy-prod-submitter:
  extends: .deploy-prod-submitter
  stage: deploy-prod-submitter
  when: manual

deploy-ae-submitter:
  extends: .deploy-ae-submitter
  stage: deploy-ae-submitter
  when: manual
