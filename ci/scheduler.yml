build-pmc-processor-task:
  stage: build
  script: ./gradlew :scheduler:pmc-processor-task:bootJar
  artifacts:
    paths:
      - "pmc-processor-task-1.0.0.jar"

deploy-dev-submitter:
  stage: deploy-dev-pmc
  when: manual
  dependencies:
    - build-submitter
  script: "./gradlew updatePmcArtifact -Penv=dev -PdeployPath=/nfs/biostudies/.adm/apps/scheduler/beta/apps"

deploy-beta-submitter:
  stage: deploy-beta-pmc
  when: manual
  dependencies:
    - build-submitter
  script: "./gradlew updatePmcArtifact -Penv=beta -PdeployPath=/nfs/biostudies/.adm/apps/scheduler/beta/apps"

deploy-prod-submitter:
  stage: deploy-prod-pmc
  when: manual
  dependencies:
    - build-submitter
  script: "./gradlew updatePmcArtifact -Penv=prod -PdeployPath=/nfs/biostudies/.adm/apps/scheduler/prod/apps"


